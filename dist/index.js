(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(n){e(1,arguments);var o=Object.prototype.toString.call(n);return n instanceof Date||"object"===t(n)&&"[object Date]"===o?new Date(n.getTime()):"number"==typeof n||"[object Number]"===o?new Date(n):("string"!=typeof n&&"[object String]"!==o||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(t){e(1,arguments);var o=n(t);return o.setHours(0,0,0,0),o}function s(t,n){e(2,arguments);var s=o(t),a=o(n);return s.getTime()===a.getTime()}function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var c={};function r(){return c}function i(t,o){var s,c,i,d,l,u,m,k;e(1,arguments);var p=r(),f=a(null!==(s=null!==(c=null!==(i=null!==(d=null==o?void 0:o.weekStartsOn)&&void 0!==d?d:null==o||null===(l=o.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==i?i:p.weekStartsOn)&&void 0!==c?c:null===(m=p.locale)||void 0===m||null===(k=m.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==s?s:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=n(t),j=y.getDay(),g=(j<f?7:0)+j-f;return y.setDate(y.getDate()-g),y.setHours(0,0,0,0),y}function d(t,n,o){e(2,arguments);var s=i(t,o),a=i(n,o);return s.getTime()===a.getTime()}function l(e){let t=e;return Object.assign(u(),{name:t,tasks:[]})}function u(){return Object.create({containsTask:function(e){return this.tasks.some((t=>t.name===e))},getTask:function(e){return this.tasks.find((t=>t.name===e))},addTask:function(e){this.tasks.some((t=>t.name===e))||this.tasks.push(e)},deleteTask:function(e){const t=this.tasks.findIndex((t=>t.name===e));-1!==t&&this.tasks.splice(t,1)},clearAllTasks:function(){this.tasks.length=0},getWeeksTasks:function(){return this.tasks.filter((t=>function(t,n){return e(1,arguments),d(t,Date.now(),n)}(t.dueDate)))},getTodaysTasks:function(){return this.tasks.filter((t=>function(t){return e(1,arguments),s(t,Date.now())}(t.dueDate)))}})}function m(){return Object.create({containsProject:function(e){return this.projects.some((t=>t.name===e))},getProject:function(e){return this.projects.find((t=>t.name===e))},addProject:function(e){this.projects.find((t=>t.name===e))||this.projects.push(e)},deleteProject:function(e){const t=this.projects.findIndex((t=>t.name===e));-1!==t&&this.projects.splice(t,1)}})}function k(){}function p(){}k.getTodoList=function(){const e=JSON.parse(localStorage.getItem("todoable-list"))||function(){let e=[];return e.push(l("Inbox")),e.push(l("Today")),e.push(l("This Week")),Object.assign(m(),{projects:e})}(),t=Object.assign(m(),e);return console.log(t),t.projects=t.projects.map((e=>Object.assign(u(),e))),t},k.saveTodoList=function(e){localStorage.setItem("todoable-list",JSON.stringify(e))},k.addProject=function(e){const t=k.getTodoList();t.addProject(e),k.saveTodoList(t)},k.deleteProject=function(e){const t=k.getTodoList();t.deleteProject(e),k.saveTodoList(t)},k.addTask=function(e,t){const n=k.getTodoList();n.getProject(e).addTask(t),k.saveTodoList(n)},k.deleteTask=function(e,t){const n=k.getTodoList();n.getProject(e).deleteTask(t),k.saveTodoList(n)},p.init=function(){p.displayProject(document.getElementById("inbox")),p.hideEmptyTaskList(),p.loadProjects(),p.initProjectBtns(),p.initTaskBtns()},p.hideElement=function(e){document.querySelector(e).classList.add("hidden")},p.showElement=function(e){document.querySelector(e).classList.remove("hidden")},p.loadProjects=function(){k.getTodoList().projects.forEach((e=>{["Inbox","Today","This Week"].includes(e.name)||p.createProjectBtn(e.name)}))},p.showProjectModal=function(){document.querySelector(".project-modal").classList.remove("closed")},p.closeProjectModal=function(){const e=document.querySelector(".project-modal"),t=document.getElementById("project-name-input"),n=document.querySelector(".project-input-error");e.classList.add("closed"),t.value="",n.textContent=""},p.addProject=function(){const e=document.getElementById("project-name-input"),t=document.querySelector(".project-input-error"),n=e.value.trim();if(n){if(k.getTodoList().containsProject(n))return e.value="",void(t.textContent="Project name already taken.");k.addProject(l(n)),p.createProjectBtn(n),p.closeProjectModal()}else t.textContent="Project name cannot be blank."},p.createProjectBtn=function(e){const t=document.querySelector(".user-projects-container"),n=document.createElement("button");n.classList.add("project","user-project","grid-container"),n.type="button";const o=document.createElement("span");o.classList.add("user-project-name"),o.textContent=e;const s=document.createElement("span");s.textContent="Ã—",s.classList.add("delete","delete-project-icon"),n.appendChild(o),n.appendChild(s),t.appendChild(n)},p.deleteProjectBtn=function(e){const t=e.parentNode,n=document.getElementById("active-project-name").textContent,o=t.querySelector(".user-project-name").textContent;k.deleteProject(o);const s=t.nextElementSibling||t.previousElementSibling||document.getElementById("inbox");n==o&&p.displayProject(s),t.remove()},p.displayProject=function(e){const t=document.getElementById("active-project-name"),n=e.firstElementChild?e.firstElementChild.textContent:e.textContent;if(t.textContent!==n){if(t.textContent=n,"Today"===n||"This Week"==n)return p.hideElement(".new-task-btn-large"),void p.hideElement(".new-task-btn-small");p.loadTasks(t.textContent)}},p.delegateProjects=function(e){e.classList.contains("delete")?p.deleteProjectBtn(e):e.classList.contains("project")&&p.displayProject(e)},p.initProjectBtns=function(){document.querySelector(".new-project-btn").addEventListener("click",p.showProjectModal),document.querySelector(".project-cancel-btn").addEventListener("click",p.closeProjectModal),document.querySelector(".project-add-btn").addEventListener("click",p.addProject),document.querySelector(".projects-container").addEventListener("click",(e=>p.delegateProjects(e.target)))},p.loadTasks=function(){const e=document.querySelector(".task-list"),t=document.getElementById("active-project-name").textContent;e.innerHTML="",k.getTodoList().getProject(t).tasks.forEach((e=>{p.createTask(e)})),p.showElement(".new-task-btn-small"),p.hideEmptyTaskList()},p.hideEmptyTaskList=function(){0==document.querySelector(".task-list").childElementCount&&(p.hideElement(".task-list"),p.showElement(".new-task-btn-large"),p.hideElement(".new-task-btn-small"))},p.showTaskModal=function(){document.querySelector(".task-modal").classList.remove("closed")},p.closeTaskModal=function(){const e=document.querySelector(".task-modal"),t=document.getElementById("task-name-input"),n=document.getElementById("task-priority-select"),o=document.getElementById("task-duedate-input"),s=document.getElementById("task-duedate-input"),a=document.querySelector(".task-input-error");e.classList.add("closed"),t.value="",n.value="low",o.value="",s.value="",a.textContent=""},p.addTask=function(){const e=document.getElementById("task-name-input").value.trim(),t=document.getElementById("task-priority-select").value,n=document.getElementById("task-duedate-input").value||"No Due Date",o=document.getElementById("task-description-input").value.trim(),s=document.getElementById("active-project-name").textContent,a=document.querySelector(".task-input-error");if(!e)return void(a.textContent="Task name cannot be blank.");if(k.getTodoList().getProject(s).containsTask(e))return void(a.textContent="Task already in project.");const c=function(e,t="",n="No due Date",o=""){return{name:e,priority:t,dueDate:n,description:o}}(e,t,n,o);k.addTask(s,c),p.createTask(c),p.closeTaskModal()},p.createTask=function(e){p.showElement(".task-list"),p.hideElement(".new-task-btn-large"),p.showElement(".new-task-btn-small");const t=document.querySelector(".task-list"),n=document.getElementById("active-project-name").textContent;t.innerHTML+=`\n  <li class="task grid-container">\n    <div class="delete-task-btn-container">\n      <button type="button" class="delete-task-btn">&#215</button> \n    </div>\n    <div class="task-content flex-container">\n      <div class="task-name-container flex-container">\n        <input class="task-checkbox" id="${n}-${e.name}" type="checkbox">\n        <label for="task-${e.name}" class="task-label">${e.name}</label>\n        <div class="priority ${e.priority}"></div>\n      </div>\n      <div class="task-details-container flex-container">\n        <button type="button" class="task-details-btn">Details</button>\n        <p>${e.dueDate}</p>\n      </div>\n    </div>\n  </li>`},p.deleteTask=function(e){const t=e.parentNode.parentNode,n=t.querySelector(".task-label").textContent,o=document.getElementById("active-project-name").textContent;k.deleteTask(o,n),t.remove(),p.hideEmptyTaskList()},p.delegateTasks=function(e){e.classList.contains("delete-task-btn")&&p.deleteTask(e)},p.initTaskBtns=function(){document.querySelectorAll(".new-task-btn").forEach((e=>{e.addEventListener("click",p.showTaskModal)})),document.querySelector(".task-cancel-btn").addEventListener("click",p.closeTaskModal),document.querySelector(".task-add-btn").addEventListener("click",p.addTask),document.querySelector(".task-list").addEventListener("click",(e=>p.delegateTasks(e.target)))},document.addEventListener("DOMContentLoaded",p.init)})();